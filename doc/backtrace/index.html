<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A library for acquiring a backtrace at runtime"><meta name="keywords" content="rust, rustlang, rust-lang, backtrace"><title>backtrace - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="../crates.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../backtrace/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../backtrace/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Crate backtrace</a></h2><div class="sidebar-elems"><div class="block"><ul><li class="version">Version 0.3.15</li><li><a id="all-types" href="all.html">All Items</a></li></ul></div><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../backtrace/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">backtrace</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/backtrace/lib.rs.html#1-196">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A library for acquiring a backtrace at runtime</p>
<p>This library is meant to supplement the <code>RUST_BACKTRACE=1</code> support of the
standard library by allowing an acquisition of a backtrace at runtime
programmatically. The backtraces generated by this library do not need to be
parsed, for example, and expose the functionality of multiple backend
implementations.</p>
<h2 id="implementation"><a href="#implementation">Implementation</a></h2>
<p>This library makes use of a number of strategies for actually acquiring a
backtrace. For example unix uses libgcc’s libunwind bindings by default to
acquire a backtrace, but coresymbolication or dladdr is used on OSX to
acquire symbol names while linux uses gcc’s libbacktrace.</p>
<p>When using the default feature set of this library the “most reasonable” set
of defaults is chosen for the current platform, but the features activated
can also be controlled at a finer granularity.</p>
<h2 id="platform-support"><a href="#platform-support">Platform Support</a></h2>
<p>Currently this library is verified to work on Linux, OSX, and Windows, but
it may work on other platforms as well. Note that the quality of the
backtrace may vary across platforms.</p>
<h2 id="api-principles"><a href="#api-principles">API Principles</a></h2>
<p>This library attempts to be as flexible as possible to accommodate different
backend implementations of acquiring a backtrace. Consequently the currently
exported functions are closure-based as opposed to the likely expected
iterator-based versions. This is done due to limitations of the underlying
APIs used from the system.</p>
<h2 id="usage"><a href="#usage">Usage</a></h2>
<p>First, add this to your Cargo.toml</p>
<div class="example-wrap"><pre class="language-toml"><code>[dependencies]
backtrace = &quot;0.2&quot;</code></pre></div>
<p>Next:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">extern</span> <span class="kw">crate</span> <span class="ident">backtrace</span>;

<span class="kw">fn</span> <span class="ident">main</span>() {
    <span class="ident">backtrace::trace</span>(<span class="op">|</span><span class="ident">frame</span><span class="op">|</span> {
        <span class="kw">let</span> <span class="ident">ip</span> <span class="op">=</span> <span class="ident">frame</span>.<span class="ident">ip</span>();
        <span class="kw">let</span> <span class="ident">symbol_address</span> <span class="op">=</span> <span class="ident">frame</span>.<span class="ident">symbol_address</span>();

        <span class="comment">// Resolve this instruction pointer to a symbol name</span>
        <span class="ident">backtrace::resolve</span>(<span class="ident">ip</span>, <span class="op">|</span><span class="ident">symbol</span><span class="op">|</span> {
            <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">name</span>) <span class="op">=</span> <span class="ident">symbol</span>.<span class="ident">name</span>() {
                <span class="comment">// ...</span>
            }
            <span class="kw">if</span> <span class="kw">let</span> <span class="prelude-val">Some</span>(<span class="ident">filename</span>) <span class="op">=</span> <span class="ident">symbol</span>.<span class="ident">filename</span>() {
                <span class="comment">// ...</span>
            }
        });

        <span class="bool-val">true</span> <span class="comment">// keep going to the next frame</span>
    });
}</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Backtrace.html" title="backtrace::Backtrace struct">Backtrace</a></div><div class="item-right docblock-short"><p>Representation of an owned and self-contained backtrace.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BacktraceFrame.html" title="backtrace::BacktraceFrame struct">BacktraceFrame</a></div><div class="item-right docblock-short"><p>Captured version of a frame in a backtrace.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.BacktraceSymbol.html" title="backtrace::BacktraceSymbol struct">BacktraceSymbol</a></div><div class="item-right docblock-short"><p>Captured version of a symbol in a backtrace.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Frame.html" title="backtrace::Frame struct">Frame</a></div><div class="item-right docblock-short"><p>A trait representing one frame of a backtrace, yielded to the <code>trace</code>
function of this crate.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Symbol.html" title="backtrace::Symbol struct">Symbol</a></div><div class="item-right docblock-short"><p>A trait representing the resolution of a symbol in a file.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SymbolName.html" title="backtrace::SymbolName struct">SymbolName</a></div><div class="item-right docblock-short"><p>A wrapper around a symbol name to provide ergonomic accessors to the
demangled name, the raw bytes, the raw string, etc.</p>
</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.BytesOrWideString.html" title="backtrace::BytesOrWideString enum">BytesOrWideString</a></div><div class="item-right docblock-short"><p>A platform independent representation of a string. When working with <code>std</code>
enabled it is recommended to the convenience methods for providing
conversions to <code>std</code> types.</p>
</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.resolve.html" title="backtrace::resolve fn">resolve</a></div><div class="item-right docblock-short"><p>Resolve an address to a symbol, passing the symbol to the specified
closure.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.resolve_unsynchronized.html" title="backtrace::resolve_unsynchronized fn">resolve_unsynchronized</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Same as <code>resolve</code>, only unsafe as it’s unsynchronized.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.trace.html" title="backtrace::trace fn">trace</a></div><div class="item-right docblock-short"><p>Inspects the current call-stack, passing all active frames into the closure
provided to calculate a stack trace.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.trace_unsynchronized.html" title="backtrace::trace_unsynchronized fn">trace_unsynchronized</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Same as <code>trace</code>, only unsafe as it’s unsynchronized.</p>
</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="backtrace" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.63.0 (4b91a6ea7 2022-08-08)" ></div>
</body></html>